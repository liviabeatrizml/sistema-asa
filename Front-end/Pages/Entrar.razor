@page "/entrar"
@using System.ComponentModel.DataAnnotations

<PageTitle>Entrar</PageTitle>

<div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
    <div class="container-form bg-white border-radius-20">
    
        <h1 class="display-5 weight-700">Entrar</h1>
    
        <p class="paragraph-size weight-500">Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
    
        <EditForm Model="@user" OnValidSubmit="@HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />
    
            <div class="mb-3 ">
                <InputText id="email" class="custom-input form-control border-radius-10" @bind-Value="user.Email" placeholder="Email"/>
                <ValidationMessage For="@(() => user.Email)" />
            </div>

            <div class="password-container mb-3">
                <InputText id="password" class="custom-input form-control border-radius-10" @bind-Value="user.Password" type="@(isPasswordVisible ? "text" : "password")"  placeholder="Senha"/>
                <ValidationMessage For="@(() => user.Password)" />
                <span class="toggle-password" @onclick="TogglePasswordVisibility">
                    <img style="height: 1.5rem; width: 1.5rem;" src="@(isPasswordVisible ? "..\\css\\images\\eye-off.svg" : "..\\css\\images\\eye-on.svg")" alt="@(isPasswordVisible ? "Esconder Senha" : "Mostrar Senha")" id="eyeIcon" />
                </span>
            </div>
    
            <a href="#" class="weight-700 paragraph-size">Esqueceu sua senha?</a>
    
            <div class="d-grid gap-2 py-5">
                <button type="submit" class="btn btn-primary weight-700 button-size border-radius-30" style="height: 4rem;">Entrar</button>
            </div>
    
        </EditForm>
    
        <div style="display: flex; align-items: center; text-align: center;" class="pb-4">
            <hr style="flex-grow: 1; border: none; border-top: 1px solid #D9D9D9; margin: 0 10px;">
            <span style="color: #D9D9D9;">ou</span>
            <hr style="flex-grow: 1; border: none; border-top: 1px solid #D9D9D9; margin: 0 10px;">
        </div>
    
        <p class="paragraph-size weight-500">Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
    
        <div class="d-grid gap-2 py-2">
            <a href="/register" class="btn btn-secondary weight-700 button-size border-radius-30" style="display: flex; align-items: center; justify-content: center; height: 4rem; align-items: center;">Cadastre-se Agora</a>
        </div>
    
    </div>
</div>

@code{
    public class User
    {
        [Required(ErrorMessage = "O campo Email é obrigatório.")]
        [EmailAddress(ErrorMessage = "Por favor, insira um endereço de email válido.")]
        public string Email { get; set; }

        [Required(ErrorMessage = "O campo Senha é obrigatório.")]
        [MinLength(6, ErrorMessage = "A senha deve ter pelo menos 6 caracteres.")]
        public string Password { get; set; }
    }

    private User user = new User();
    private bool submitted = false;

    private void HandleValidSubmit()
    {
        submitted = true;
        // Lógica para lidar com os dados do formulário
    }

    private bool isPasswordVisible = false;

    private void TogglePasswordVisibility()
    {
        isPasswordVisible = !isPasswordVisible;
    }
}