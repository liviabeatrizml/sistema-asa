@page "/agenda"
@attribute [Authorize]
@inject NavigationManager Navigation

<PageTitle>Agenda</PageTitle>

<div class="page" style="background-color: var(--blue-ufersa); height: auto;">
    <NavMenu />

    <div style="padding-top: 29px; border-radius: 15px 0px 0px 15px; width: 100%; background-color: white;">

        <main class="page" style="padding-left: 4rem; padding-right: 3rem; padding-top: 20px; margin-bottom: 50px; display: flex; justify-content: space-between;">

            <div>
                <div style="display: flex; justify-content: space-between;">
                    <div class="mb-4" style="padding-left: 4.5rem;">
                        <InputSelect id="mostrar-calendario" class="input-select-arrow select" style="" @bind-Value="calendario">
                            <option value="dia">DIA</option>
                            <option value="semana">SEMANA</option>
                        </InputSelect>
                    </div>

                    <div style="background-color: var(--blue-ufersa); width: 36px; height: 36px; border-radius: 10px; align-items: center; display: flex; justify-content: center; cursor: pointer; margin-left: 15px; ">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 13V6C21 5.46957 20.7893 4.96086 20.4142 4.58579C20.0391 4.21071 19.5304 4 19 4H5C4.46957 4 3.96086 4.21071 3.58579 4.58579C3.21071 4.96086 3 5.46957 3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H13" stroke="#FAF9F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M16 2V6" stroke="#FAF9F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8 2V6" stroke="#FAF9F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3 10H21" stroke="#FAF9F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M19 16V22" stroke="#FAF9F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M16 19H22" stroke="#FAF9F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
                @if(calendario == "semana"){
                    <CalendarioSemanal DiaSelecionado="@diaSelecionado" OnDiaSelecionadoChange="HandleDiaSelecionadoChange"/>
                } else if(calendario == "dia"){
                    <CalendarioDiario DiaSelecionado="@diaSelecionado" OnDiaSelecionadoChange="HandleDiaSelecionadoChange"/>
                }
            </div>

            <div>
                <Calendario DiaSelecionado="@diaSelecionado" OnDiaSelecionadoChange="HandleDiaSelecionadoChange"/>
            </div>

        </main>
    
    </div>

</div>

@code{
    private DateTime diaSelecionado = DateTime.Today;

    private void HandleDiaSelecionadoChange(DateTime novoDia)
    {
        diaSelecionado = novoDia;
    }
    
    private string calendario = "semana"; 
}

<style>
    .input-select-arrow {
        background: url('..\\css\\images\\seta-select-calendario.svg') no-repeat right 0.4rem center !important;
    }

    .select{
        width: 7.375rem; 
        height: 2.25rem; 
        font-size: 1rem; 
        font-weight: 600;
        color: var(--blue-ufersa); 
        padding-left: 0.4rem;
        border-radius: 6px;
        border: 1px solid #C3C3C340;
        cursor: pointer;
    }

    .select:hover{
        background-color: #C3C3C340;
    }

    .select:focus {
        outline: none;
    }
</style>